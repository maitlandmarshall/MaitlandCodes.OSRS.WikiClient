using Microsoft.VisualStudio.TestTools.UnitTesting;
using MaitlandCodes.OSRS.WikiClient;
using System.Linq;

namespace MaitlandCodes.OSRS.WikiClient.Tests
{
    [TestClass()]
    public class HtmlTableParserTests
    {
        [TestMethod()]
        public void ParseTest()
        {
            var html = "< div class=\"mw-parser-output\"><div class=\"seealso\">This list was created dynamically. For help, see <a href=\"/w/Template:Store_locations_list/FAQ\" title=\"Template:Store locations list/FAQ\">the FAQ</a>. To force an update of this list, click <span class=\"plainlinks jsPurgeLink\" id=\"res\" title=\"If this information seems incorrect, click here to force an update.\"><a class=\"text\" href=\"https://oldschool.runescape.wiki/w/Store_Locations?action=purge#res\">here</a></span>.</div><table class=\"wikitable sortable align-center-3 align-center-4 align-center-5 align-center-6 align-center-7\"><tbody><tr><th>Seller</th><th>Location</th><th data-sort-type=\"number\">Number<br />in stock</th><th data-sort-type=\"number\">Restock<br />time</th><th data-sort-type=\"number\">Price<br />sold at</th><th data-sort-type=\"number\">Price<br />bought at</th><th>Members?</th></tr><tr><td><a href=\"/w/Warrens_Fish_Monger\" title=\"Warrens Fish Monger\">Warrens Fish Monger</a></td><td><a href=\"/w/The_Warrens\" title=\"The Warrens\">The Warrens</a></td><td data-sort-value=\"2\">2</td><td data-sort-value=\"400\">4m </td><td data-sort-value=\"6\"><a href=\"/w/Coins\" title=\"Coins\"><img alt=\"Coins 5.png\" src=\"/images/Coins_5.png?4afbb\" decoding=\"async\" width=\"27\" height=\"14\" data-file-width=\"27\" data-file-height=\"14\" /></a> 6</td><td data-sort-value=\"3\"><a href=\"/w/Coins\" title=\"Coins\"><img alt=\"Coins 3.png\" src=\"/images/Coins_3.png?08d80\" decoding=\"async\" width=\"27\" height=\"11\" data-file-width=\"27\" data-file-height=\"11\" /></a> 3</td><td><a href=\"/w/Pay-to-play\" title=\"Pay-to-play\"><img alt=\"Member icon.png\" src=\"/images/Member_icon.png?1de0c\" decoding=\"async\" width=\"16\" height=\"16\" data-file-width=\"16\" data-file-height=\"16\" /></a></td></tr><tr><td><a href=\"/w/Island_Fishmonger\" title=\"Island Fishmonger\">Island Fishmonger</a></td><td><a href=\"/w/Miscellania\" title=\"Miscellania\">Miscellania</a></td><td data-sort-value=\"2\">2</td><td data-sort-value=\"400\">4m </td><td data-sort-value=\"6\"><a href=\"/w/Coins\" title=\"Coins\"><img alt=\"Coins 5.png\" src=\"/images/Coins_5.png?4afbb\" decoding=\"async\" width=\"27\" height=\"14\" data-file-width=\"27\" data-file-height=\"14\" /></a> 6</td><td data-sort-value=\"3\"><a href=\"/w/Coins\" title=\"Coins\"><img alt=\"Coins 3.png\" src=\"/images/Coins_3.png?08d80\" decoding=\"async\" width=\"27\" height=\"11\" data-file-width=\"27\" data-file-height=\"11\" /></a> 3</td><td><a href=\"/w/Pay-to-play\" title=\"Pay-to-play\"><img alt=\"Member icon.png\" src=\"/images/Member_icon.png?1de0c\" decoding=\"async\" width=\"16\" height=\"16\" data-file-width=\"16\" data-file-height=\"16\" /></a></td></tr><tr><td><a href=\"/w/Fremennik_Fish_Monger\" title=\"Fremennik Fish Monger\">Fremennik Fish Monger</a></td><td><a href=\"/w/Rellekka\" title=\"Rellekka\">Rellekka</a></td><td data-sort-value=\"2\">2</td><td data-sort-value=\"400\">4m </td><td data-sort-value=\"6\"><a href=\"/w/Coins\" title=\"Coins\"><img alt=\"Coins 5.png\" src=\"/images/Coins_5.png?4afbb\" decoding=\"async\" width=\"27\" height=\"14\" data-file-width=\"27\" data-file-height=\"14\" /></a> 6</td><td data-sort-value=\"3\"><a href=\"/w/Coins\" title=\"Coins\"><img alt=\"Coins 3.png\" src=\"/images/Coins_3.png?08d80\" decoding=\"async\" width=\"27\" height=\"11\" data-file-width=\"27\" data-file-height=\"11\" /></a> 3</td><td><a href=\"/w/Pay-to-play\" title=\"Pay-to-play\"><img alt=\"Member icon.png\" src=\"/images/Member_icon.png?1de0c\" decoding=\"async\" width=\"16\" height=\"16\" data-file-width=\"16\" data-file-height=\"16\" /></a></td></tr><tr><td><a href=\"/w/Etceteria_Fish\" title=\"Etceteria Fish\">Etceteria Fish</a></td><td><a href=\"/w/Etceteria\" title=\"Etceteria\">Etceteria</a></td><td data-sort-value=\"2\">2</td><td data-sort-value=\"400\">4m </td><td data-sort-value=\"6\"><a href=\"/w/Coins\" title=\"Coins\"><img alt=\"Coins 5.png\" src=\"/images/Coins_5.png?4afbb\" decoding=\"async\" width=\"27\" height=\"14\" data-file-width=\"27\" data-file-height=\"14\" /></a> 6</td><td data-sort-value=\"3\"><a href=\"/w/Coins\" title=\"Coins\"><img alt=\"Coins 3.png\" src=\"/images/Coins_3.png?08d80\" decoding=\"async\" width=\"27\" height=\"11\" data-file-width=\"27\" data-file-height=\"11\" /></a> 3</td><td><a href=\"/w/Pay-to-play\" title=\"Pay-to-play\"><img alt=\"Member icon.png\" src=\"/images/Member_icon.png?1de0c\" decoding=\"async\" width=\"16\" height=\"16\" data-file-width=\"16\" data-file-height=\"16\" /></a></td></tr><tr><td><a href=\"/w/Lovecraft%27s_Tackle\" title=\"Lovecraft&#39;s Tackle\">Lovecraft's Tackle</a></td><td><a href=\"/w/Witchaven\" title=\"Witchaven\">Witchaven</a></td><td data-sort-value=\"2\">2</td><td data-sort-value=\"400\">4m </td><td data-sort-value=\"5\"><a href=\"/w/Coins\" title=\"Coins\"><img alt=\"Coins 5.png\" src=\"/images/Coins_5.png?4afbb\" decoding=\"async\" width=\"27\" height=\"14\" data-file-width=\"27\" data-file-height=\"14\" /></a> 5</td><td data-sort-value=\"2\"><a href=\"/w/Coins\" title=\"Coins\"><img alt=\"Coins 2.png\" src=\"/images/Coins_2.png?24e5a\" decoding=\"async\" width=\"20\" height=\"10\" data-file-width=\"20\" data-file-height=\"10\" /></a> 2</td><td><a href=\"/w/Pay-to-play\" title=\"Pay-to-play\"><img alt=\"Member icon.png\" src=\"/images/Member_icon.png?1de0c\" decoding=\"async\" width=\"16\" height=\"16\" data-file-width=\"16\" data-file-height=\"16\" /></a></td></tr><tr><td><a href=\"/w/Ishmael%27s_Fish_He_Sells\" title=\"Ishmael&#39;s Fish He Sells\">Ishmael's Fish He Sells</a></td><td><a href=\"/w/Ruins_of_Unkah\" title=\"Ruins of Unkah\">Ruins of Unkah</a></td><td data-sort-value=\"2\">2</td><td data-sort-value=\"400\">4m </td><td data-sort-value=\"5\"><a href=\"/w/Coins\" title=\"Coins\"><img alt=\"Coins 5.png\" src=\"/images/Coins_5.png?4afbb\" decoding=\"async\" width=\"27\" height=\"14\" data-file-width=\"27\" data-file-height=\"14\" /></a> 5</td><td data-sort-value=\"3\"><a href=\"/w/Coins\" title=\"Coins\"><img alt=\"Coins 3.png\" src=\"/images/Coins_3.png?08d80\" decoding=\"async\" width=\"27\" height=\"11\" data-file-width=\"27\" data-file-height=\"11\" /></a> 3</td><td><a href=\"/w/Pay-to-play\" title=\"Pay-to-play\"><img alt=\"Member icon.png\" src=\"/images/Member_icon.png?1de0c\" decoding=\"async\" width=\"16\" height=\"16\" data-file-width=\"16\" data-file-height=\"16\" /></a></td></tr><tr><td><a href=\"/w/Harry%27s_Fishing_Shop.\" title=\"Harry&#39;s Fishing Shop.\">Harry's Fishing Shop.</a></td><td><a href=\"/w/Catherby\" title=\"Catherby\">Catherby</a></td><td data-sort-value=\"2\">2</td><td data-sort-value=\"400\">4m </td><td data-sort-value=\"5\"><a href=\"/w/Coins\" title=\"Coins\"><img alt=\"Coins 5.png\" src=\"/images/Coins_5.png?4afbb\" decoding=\"async\" width=\"27\" height=\"14\" data-file-width=\"27\" data-file-height=\"14\" /></a> 5</td><td data-sort-value=\"3\"><a href=\"/w/Coins\" title=\"Coins\"><img alt=\"Coins 3.png\" src=\"/images/Coins_3.png?08d80\" decoding=\"async\" width=\"27\" height=\"11\" data-file-width=\"27\" data-file-height=\"11\" /></a> 3</td><td><a href=\"/w/Pay-to-play\" title=\"Pay-to-play\"><img alt=\"Member icon.png\" src=\"/images/Member_icon.png?1de0c\" decoding=\"async\" width=\"16\" height=\"16\" data-file-width=\"16\" data-file-height=\"16\" /></a></td></tr><tr><td><a href=\"/w/Gerrant%27s_Fishy_Business.\" title=\"Gerrant&#39;s Fishy Business.\">Gerrant's Fishy Business.</a></td><td><a href=\"/w/Port_Sarim\" title=\"Port Sarim\">Port Sarim</a></td><td data-sort-value=\"2\">2</td><td data-sort-value=\"400\">4m </td><td data-sort-value=\"5\"><a href=\"/w/Coins\" title=\"Coins\"><img alt=\"Coins 5.png\" src=\"/images/Coins_5.png?4afbb\" decoding=\"async\" width=\"27\" height=\"14\" data-file-width=\"27\" data-file-height=\"14\" /></a> 5</td><td data-sort-value=\"3\"><a href=\"/w/Coins\" title=\"Coins\"><img alt=\"Coins 3.png\" src=\"/images/Coins_3.png?08d80\" decoding=\"async\" width=\"27\" height=\"11\" data-file-width=\"27\" data-file-height=\"11\" /></a> 3</td><td><a href=\"/w/Free-to-play\" title=\"Free-to-play\"><img alt=\"Free-to-play icon.png\" src=\"/images/Free-to-play_icon.png?628ce\" decoding=\"async\" width=\"16\" height=\"16\" data-file-width=\"16\" data-file-height=\"16\" /></a></td></tr><tr><td><a href=\"/w/Tynan%27s_Fishing_Supplies\" title=\"Tynan&#39;s Fishing Supplies\">Tynan's Fishing Supplies</a></td><td><a href=\"/w/Port_Piscarilius\" title=\"Port Piscarilius\">Port Piscarilius</a></td><td data-sort-value=\"2\">2</td><td data-sort-value=\"400\">4m </td><td data-sort-value=\"5\"><a href=\"/w/Coins\" title=\"Coins\"><img alt=\"Coins 5.png\" src=\"/images/Coins_5.png?4afbb\" decoding=\"async\" width=\"27\" height=\"14\" data-file-width=\"27\" data-file-height=\"14\" /></a> 5</td><td data-sort-value=\"4\"><a href=\"/w/Coins\" title=\"Coins\"><img alt=\"Coins 4.png\" src=\"/images/Coins_4.png?61b84\" decoding=\"async\" width=\"27\" height=\"13\" data-file-width=\"27\" data-file-height=\"13\" /></a> 4</td><td><a href=\"/w/Pay-to-play\" title=\"Pay-to-play\"><img alt=\"Member icon.png\" src=\"/images/Member_icon.png?1de0c\" decoding=\"async\" width=\"16\" height=\"16\" data-file-width=\"16\" data-file-height=\"16\" /></a></td></tr><tr><td><a href=\"/w/Arnold%27s_Eclectic_Supplies.\" title=\"Arnold&#39;s Eclectic Supplies.\">Arnold's Eclectic Supplies.</a></td><td><a href=\"/w/Piscatoris_Fishing_Colony\" title=\"Piscatoris Fishing Colony\">Piscatoris Fishing Colony</a></td><td data-sort-value=\"2\">2</td><td data-sort-value=\"75\">45s</td><td data-sort-value=\"5\"><a href=\"/w/Coins\" title=\"Coins\"><img alt=\"Coins 5.png\" src=\"/images/Coins_5.png?4afbb\" decoding=\"async\" width=\"27\" height=\"14\" data-file-width=\"27\" data-file-height=\"14\" /></a> 5</td><td data-sort-value=\"2\"><a href=\"/w/Coins\" title=\"Coins\"><img alt=\"Coins 2.png\" src=\"/images/Coins_2.png?24e5a\" decoding=\"async\" width=\"20\" height=\"10\" data-file-width=\"20\" data-file-height=\"10\" /></a> 2</td><td><a href=\"/w/Pay-to-play\" title=\"Pay-to-play\"><img alt=\"Member icon.png\" src=\"/images/Member_icon.png?1de0c\" decoding=\"async\" width=\"16\" height=\"16\" data-file-width=\"16\" data-file-height=\"16\" /></a></td></tr></tbody></table><!-- NewPP limit reportParsed by mediawiki‐5d778d476f‐4hmn7Cached time: 20220207223627Cache expiry: 86400Dynamic content: falseComplications: [][SMW] In‐text annotation parser time: 0 secondsCPU time usage: 0.193 secondsReal time usage: 0.407 secondsPreprocessor visited node count: 53/1000000Post‐expand include size: 8364/2097152 bytesTemplate argument size: 0/2097152 bytesHighest expansion depth: 3/40Expensive parser function count: 0/100Unstrip recursion depth: 0/20Unstrip post‐expand size: 0/5000000 bytesLua time usage: 0.139/10.000 secondsLua memory usage: 863890/367001600 bytes--><!--Transclusion expansion time report (%,ms,calls,template)100.00%  359.813      1 Template:Store_locations_list100.00%  359.813      1 -total--></div>";
            var parser = new HtmlTableParser();
            var result = parser.Parse(html).ToList();
        }
    }
}